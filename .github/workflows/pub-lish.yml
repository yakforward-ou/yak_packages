name: pub-lish
on:
  push:
    tags: ['v[0-9]+.[0-9]+.[0-9]+*']
    branches: [main]
jobs:
  publish-packages:
    name: publish to pub.dev
    runs-on: [ubuntu-latest]
    timeout-minutes: 10
    permissions:
      contents: write
      id-token: write 
    steps:
      - uses: actions/checkout@v4
      - uses: subosito/flutter-action@v2
      - uses: bluefireteam/melos-action@v3
        with:
          publish: true
          git-email: francesco@yakforward.com
          git-name: Francesco Iapicca